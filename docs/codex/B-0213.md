You are working in the repo root.

Ticket: B-0213 — Search Service: Autocomplete API v1 (/autocomplete)

Goal
- Add a minimal Autocomplete HTTP API to Search Service.
- Endpoint: GET /autocomplete?q=<query>&size=<n>
- Return suggestions for typeahead (MVP).
- Must work with local OpenSearch aliases (books_doc_read etc.) when available.
- Keep it backward-compatible and minimal.

Constraints
- Do NOT modify frontend apps.
- Do NOT change OpenSearch mappings or infra in this ticket.
- Avoid adding new heavy dependencies.
- Follow repo rules in AGENTS.md.

Must Read (SSOT)
- AGENTS.md
- services/search-service/** (existing controller/service conventions)
- docs/RUNBOOK.md (only add a short snippet if needed)

Scope
- Allowed: services/search-service/** (plus optional docs/RUNBOOK.md snippet)
- Forbidden: contracts/**, infra/**, db/**, apps/**

API Spec (MVP)
1) Endpoint
- GET /autocomplete
- Query params:
  - q: string (required, trimmed; if blank -> 400)
  - size: int (optional, default 10, clamp 1..20)

2) Response 200 shape (JSON)
   {
   "trace_id": "…",
   "request_id": "…",
   "took_ms": 12,
   "suggestions": [
   { "text": "해리 포터", "score": 1.0, "source": "opensearch" }
   ]
   }

3) Error shape (match existing Search Service error format)
   { "error": { "code": "...", "message": "..." }, "trace_id": "...", "request_id": "..." }

IDs
- Read headers:
  - x-trace-id
  - x-request-id
- If missing, generate UUID-based values (keep existing style if there is one).
- Always echo trace_id/request_id in responses (including errors).

Implementation Details
- Add a new controller endpoint GET /autocomplete.
- Add a small service method that queries OpenSearch for suggestions.
- MVP strategy:
  - Use a prefix query over useful fields (title_ko, authors.name_ko, publisher_name, series_name if present),
    OR use a completion suggester if already supported.
  - Keep it simple and safe: return de-duplicated top N suggestion texts.
- If OpenSearch is unavailable, return 503 with error code "opensearch_unavailable".
- Keep timeout small (e.g., 200ms) and clamp.

Testing
- Add unit tests (MockMvc) with gateway mocked:
  1) missing q -> 400
  2) valid q -> 200 and suggestions array returned
  3) OpenSearch unavailable -> 503

Manual Validation (document in RUNBOOK.md snippet if needed)
- Run:
  cd services/search-service
  ./gradlew test
  ./gradlew bootRun
- Curl:
  curl -s "http://localhost:8080/autocomplete?q=해리&size=10" | jq .

Deliverables
- Summarize changed files
- How to run tests and manual curl
- Note any limitations (e.g., “prefix query MVP”)

Important
- If you see unrelated git changes outside services/search-service/, do NOT modify them.
- Proceed only within allowed scope.
