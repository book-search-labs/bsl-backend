Implement the ticket: tasks/backlog/T-0701-ranking-service-mvp-toy-rerank.md

Rules:
- Read and follow AGENTS.md.
- Stay within scope: ONLY modify services/ranking-service/**.
- You MAY also update docs/RUNBOOK.md and scripts/test.sh if needed.
- Do NOT touch infra/**, contracts/**, db/**, services/search-service/**, or services/query-service/**.

Goal:
- Build Ranking Service MVP (Spring Boot) on port 8082 with:
  1) GET /health -> { "status": "ok" }
  2) POST /rerank -> deterministic toy reranker

API behavior:
- /rerank request (MVP):
  {
  "query": { "text": "<string>" },
  "candidates": [
  { "doc_id": "b1", "features": { "lex_rank": 1, "vec_rank": 2, "rrf_score": 0.167, "issued_year": 1999, "volume": 1,
  "edition_labels": ["recover"] } }
  ],
  "options": { "size": 10 }
  }

- /rerank response (MVP):
  {
  "trace_id": "...",
  "request_id": "...",
  "took_ms": <int>,
  "model": "toy_rerank_v1",
  "hits": [
  { "doc_id": "b1", "score": <float>, "rank": 1, "debug": { ... } }
  ]
  }

IDs:
- Use headers x-trace-id / x-request-id if present, else generate UUIDs.

Toy scoring (deterministic):
- base = rrf_score (default 0)
- lex_bonus = 1/(60+lex_rank) if present else 0
- vec_bonus = 1/(60+vec_rank) if present else 0
- freshness_bonus = clamp((issued_year-1980)/100, 0, 0.5) if present else 0
- slot_bonus: +0.10 if volume exists and >0, +0.05 if edition_labels contains "recover"
- score = base + 2.0*lex_bonus + 1.0*vec_bonus + 0.2*freshness_bonus + slot_bonus

Sort / tie-break:
1) score desc
2) lex_rank asc (if present)
3) vec_rank asc (if present)
4) doc_id asc

Error handling:
- Missing/empty query.text OR missing/empty candidates -> HTTP 400 with:
  { "error": { "code": "<string>", "message": "<string>" }, "trace_id": "...", "request_id": "..." }
- Non-JSON -> 400, unexpected -> 500 (same shape)

Project requirements:
- Spring Boot structure under services/ranking-service/
- server.port = 8082
- Add README.md with run/test/curl examples
- Add tests so:
  cd services/ranking-service && ./gradlew test
  passes on a clean checkout (no external deps)

Minimum tests:
1) /health returns 200 + status ok
2) /rerank happy-path ordering is deterministic
3) /rerank invalid input returns 400 with error body

Validation commands to run and report:
- cd services/ranking-service && ./gradlew test
- cd services/ranking-service && ./gradlew bootRun
- curl -s http://localhost:8082/health
- curl -s -XPOST http://localhost:8082/rerank -H 'Content-Type: application/json' \
  -d '{"query":{"text":"해리포터 1권"},"candidates":[{"doc_id":"b1","features":
  {"rrf_score":0.167,"lex_rank":1,"vec_rank":2,"issued_year":1999,"volume":1,"edition_labels":["recover"]}},
  {"doc_id":"b2","features":{"rrf_score":0.150,"lex_rank":2,"vec_rank":1,"issued_year":2000,"volume":2,"edition_labels":
  []}}],"options":{"size":10}}'
