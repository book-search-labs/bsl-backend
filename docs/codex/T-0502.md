Task: Implement ticket T-0502 (Query Service emits qc.v1.1 MVP).

Context / SSOT:
- Use the ticket description as SSOT.
- Output format must follow the qc.v1.1 structure described in the ticket (meta/query/detected/slots/understanding/spell/
  rewrite/retrievalHints).
- Do NOT modify anything under contracts/** or infra/** or services/search-service/**.

Scope:
- Allowed: services/query-service/**, docs/RUNBOOK.md (optional snippet)
- Forbidden: contracts/**, infra/**, services/search-service/**, services/ranking-service/**, db/**

Requirements:
1) Keep POST /query-context endpoint, accept request body:
   { "query": { "raw": "<string>" }, "client": {...}, "user": {...} }
2) Response must be qc.v1.1:
  - meta.schemaVersion="qc.v1.1"
  - meta.traceId/meta.requestId from headers x-trace-id/x-request-id (else generate)
  - meta.timestampMs = now()
  - meta.tenantId default "books" (env BSL_TENANT_ID override ok)
  - meta.locale default "ko-KR" (env override ok)
  - meta.timezone default "Asia/Seoul" (env override ok)
  - pass-through meta.client/meta.user from request body
3) Query normalization:
  - query.raw = input
  - query.nfkc = NFKC
  - query.norm = existing normalize_query(raw)
  - query.nospace = remove spaces from query.norm
  - query.final = MVP default query.norm
  - query.finalSource = "norm"
  - query.canonicalKey = stable key (MVP: query.final or include volume/edition if detected)
  - query.tokens: produce a simple list of token objects or minimal tokens + protectedSpans=[]
4) detected/lang:
  - map detect_language() into detected.lang.primary/confidence
5) slots:
  - ensure slots object exists with keys isbn/volume/edition/set/chosung (MVP defaults ok)
  - optional: volume regex (\d+)\s*권, edition "리커버" -> "recover"
6) understanding/spell/rewrite:
  - stable MVP defaults (not applied)
7) retrievalHints:
  - emit lexical/vector/rerank/fallbackPolicy/executionHint/guardrails with defaults from ticket
8) Tests:
  - update/add pytest tests to assert:
    - response.meta.schemaVersion == "qc.v1.1"
    - traceId/requestId propagation works
    - query fields exist (raw/nfkc/norm/nospace/final)
    - retrievalHints.lexical/vector/executionHint keys exist
9) Update README or RUNBOOK only if needed.

After implementation:
- Run: cd services/query-service && . .venv/bin/activate && python -m pytest
- Provide the exact curl command to validate qc.v1.1 output.
