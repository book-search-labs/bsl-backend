You are working in the repo root.

Ticket: U-0107 — Web User: Search page MVP (call Search Service, render results)

Goal
- Implement the MVP Search page for the web-user Vite (React + TS) app.
- Use the existing UI shell (T-0106) and make "/search" actually search:
  - Read q from URL query string (?q=...)
  - Call Search Service /search with qc.v1.1 request shape (minimal)
  - Render hits list with basic book fields
  - Provide UX for loading / empty / error states

Constraints
- Do NOT modify backend services.
- Do NOT add new dependencies (keep current package.json).
- Keep it simple: no global state libs, no design system changes.
- Use Vite env vars:
  - VITE_SEARCH_BASE_URL=http://localhost:8080
  - (Optional) VITE_QUERY_BASE_URL=http://localhost:8001 (not required in this ticket)

Scope
- Allowed: apps/web-user/**
- Forbidden: services/**, contracts/**, infra/**, db/**

Must implement

1) Env (.env.example)
- Ensure apps/web-user/.env.example exists and contains:
  - VITE_SEARCH_BASE_URL=http://localhost:8080
- Ensure real .env is ignored by git (root or app-level .gitignore).

2) Search API client helper
- Create a small fetch helper:
  - src/api/http.ts (or src/api/client.ts)
  - JSON request/response
  - timeout via AbortController (e.g., 5s)
  - returns { ok, status, data } or throws a typed error

3) Request shape (qc.v1.1 minimal)
   When calling Search Service:
   POST {VITE_SEARCH_BASE_URL}/search
   Body:
   {
   "query_context_v1_1": {
   "meta": {
   "schemaVersion": "qc.v1.1",
   "traceId": "trace_web_user_<random>",
   "requestId": "req_web_user_<random>",
   "tenantId": "books",
   "timestampMs": <now_ms>,
   "locale": "ko-KR",
   "timezone": "Asia/Seoul"
   },
   "query": {
   "raw": "<q>",
   "norm": "<q_trimmed>",
   "final": "<q_trimmed>"
   },
   "retrievalHints": {
   "queryTextSource": "query.final",
   "lexical": {
   "enabled": true,
   "topKHint": 50,
   "operator": "and",
   "preferredLogicalFields": ["title_ko", "author_ko"]
   },
   "vector": {
   "enabled": true,
   "topKHint": 50,
   "fusionHint": { "method": "rrf", "k": 60 }
   },
   "rerank": { "enabled": false, "topKHint": 10 },
   "filters": [],
   "fallbackPolicy": []
   }
   },
   "options": { "size": 10, "from": 0, "debug": true }
   }

Notes:
- Keep vector enabled by default but allow toggling in UI (see below).
- You do NOT call Query Service in this ticket; you build the minimal qc.v1.1 client-side.

4) UI: SearchPage behavior
   File: src/pages/SearchPage.tsx

- Read q from URL:
  - useSearchParams()
  - const q = searchParams.get("q") ?? ""
- If q is empty:
  - Show a friendly empty state (prompt user to type in header search).
- If q exists:
  - Trigger search automatically on mount and when q changes.
  - Render:
    - Top row: “Results for ‘{q}’” and small controls:
      - Vector toggle (checkbox or switch)
      - Debug toggle
      - Size select (5 / 10 / 20)
      - Run button (optional; auto-run is fine)
    - Loading skeleton or spinner while fetching
    - Error banner on error (status, message)
    - Empty results state if hits is []
    - Hits list cards:
      - title_ko
      - authors (join)
      - publisher_name
      - issued_year
      - volume
      - edition_labels (comma)
      - click title -> navigate to /book/:docId
    - If debug enabled, render a collapsible JSON preview of response.debug and/or whole response.

5) Types
- Add minimal TS types for SearchResponse/BookHit:
  - src/types/search.ts
- Keep types permissive where needed (optional fields).

6) Run docs
   Update apps/web-user/README.md (or create) with:
- npm install
- cp .env.example .env
- npm run dev -- --port 5174 (or 5175 if you want; choose one and document)
- Example URLs:
  - http://localhost:5174/
  - http://localhost:5174/search?q=%ED%95%B4%EB%A6%AC

Acceptance (Manual)
- With Search Service running on :8080, open:
  - /search?q=해리
- You see a hits list similar to admin playground output.
- Toggle vector off:
  - request sets retrievalHints.vector.enabled=false
  - response strategy becomes bm25_v1_1 (if backend implemented that behavior)
- Errors show nicely when Search Service is down.
- No new dependencies added.

Deliverables
- List of created/changed files
- How to run locally
- One curl-equivalent JSON snippet in README (optional)
