TASK: Implement ticket T-0802 (Search Service: Accept QueryContext v1.1 / qc.v1.1 and apply plan execution).
Read and follow the SSOT and constraints exactly:
- Ticket file: T-0802-search-service-qc-v1_1-plan.md
- Must read: AGENTS.md, docs/API_SURFACE.md, docs/ARCHITECTURE.md or docs/INDEXING.md if present.
- Do NOT modify: contracts/**, infra/**, db/**, services/query-service/**, services/ranking-service/** (you may CALL
  ranking-service but must not change it).
- Only modify: services/search-service/** (+ docs/RUNBOOK.md and scripts/test.sh only if explicitly needed by ticket).

IMPLEMENTATION REQUIREMENTS (high level):
1) /search must accept 3 request shapes with priority:
  - query_context_v1_1 (qc.v1.1, meta.schemaVersion="qc.v1.1")
  - query_context (v1 from T-0801)
  - legacy {query:{raw}} (existing)
2) For qc.v1.1:
  - propagate IDs deterministically from meta.traceId/meta.requestId into response trace_id/request_id.
  - choose query text using retrievalHints.queryTextSource mapping to query.final/query.norm/query.raw with defaulting
    rules.
  - execute lexical stage against books_doc_read alias (BM25 multi_match) with preferredLogicalFields mapping.
  - execute vector stage against books_vec_read alias (knn on embedding) using the same deterministic demo vector
    approach already in Search Service.
  - apply supported slot-derived filters (volume, edition_labels, isbn13, language_code) to BOTH stages.
  - fuse with RRF (k clamp), deterministic tie-break by doc_id asc.
  - if rerank enabled: call Ranking Service /rerank for topKHint, reorder accordingly; if it fails, fallback.
  - implement minimal fallbackPolicy triggers/mutations (onTimeout/onVectorError/onRerankTimeout/onRerankError/
    onZeroResults; disable vector/rerank; switch queryTextSource; adjust lexical.topK).
  - response strategy labels must end with _v1_1 and include fallback variants per ticket.
  - add minimal debug fields (applied_fallback_id, query_text_source_used, stages booleans) as ticket specifies (gated
    by options.debug if implemented; otherwise always minimal).

TESTS:
- Add/extend MockMvc unit tests so clean checkout passes:
  1) accepts v1.1 request -> 200
  2) missing chosen query text -> 400
  3) ID propagation matches meta IDs
  4) filter mapping: volume=1 produces term filter on volume in built query
  5) fallback: simulate vector error -> strategy becomes fallback_lexical and applied_fallback_id set (when policy
     present)

DELIVERABLE:
- Provide a concise summary of changed files and how to run:
  cd services/search-service && ./gradlew test
- Provide curl examples for legacy, v1, and v1.1 requests (copy-paste ready).
- Keep behavior deterministic where required (tie-breaker by doc_id).
